{"version":3,"file":"menu.js","sourceRoot":"","sources":["../../src/lib/menu.ts"],"names":[],"mappings":"AAAA,OAAO,QAAQ,MAAM,UAAU,CAAC;AAChC,OAAO,eAAe,CAAC;AAEvB,OAAO,EAAE,WAAW,EAAE,WAAW,EAAE,UAAU,EAAE,MAAM,YAAY,CAAC;AAElE,IAAI,WAAW,GAAG,KAAK,CAAC;AAIxB,kBAAkB;AAClB,MAAM,CAAC,KAAK,UAAU,OAAO;IACzB,iBAAiB;IACjB,QAAQ;IACR,iBAAiB;IACjB,8BAA8B;IAC9B,SAAS;IACT,QAAQ;IACR,iBAAiB;IACjB,8BAA8B;IAC9B,QAAQ;IACR,IAAI;IACJ,MAAM,UAAU,GAAG,MAAM,WAAW,EAAE,CAAC;IACvC,MAAM,EAAC,OAAO,EAAE,IAAI,EAAE,OAAO,EAAC,GAAG,MAAM,QAAQ,CAAC,MAAM,CAAC;QACnD;YACI,OAAO,EAAE,sCAAsC;YAC/C,IAAI,EAAE,SAAS;YACf,IAAI,EAAE,MAAM;YACZ,OAAO,EAAE,UAAU,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,EAAE;gBAChC,OAAO;oBACH,IAAI,EAAE,OAAO,CAAC,SAAS;oBACvB,KAAK,EAAE,OAAO,CAAC,EAAE;iBACpB,CAAA;YACL,CAAC,CAAC;SACL;QACD;YACI,OAAO,EAAE,sBAAsB;YAC/B,IAAI,EAAE,MAAM;YACZ,IAAI,EAAE,OAAO;SAChB;QACD;YACI,OAAO,EAAE,yBAAyB;YAClC,IAAI,EAAE,SAAS;YACf,IAAI,EAAE,OAAO;SAChB;KACJ,CAAC,CAAA;IAEF,MAAM,UAAU,CAAC,OAAO,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;IACzC,OAAO,CAAC,GAAG,CAAC,+BAA+B,CAAC,CAAC;AACjD,CAAC;AAMD,MAAM,CAAC,KAAK,UAAU,YAAY;IAC9B,MAAM,aAAa,GAAG,MAAM,WAAW,EAAE,CAAC;IAC1C,OAAO,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;AACjC,CAAC;AAKD,MAAM,CAAC,KAAK,UAAU,YAAY;IAC9B,IAAI,CAAC,WAAW,EAAE,CAAC;QACf,OAAO,CAAC,GAAG,CAAC,yCAAyC,CAAC,CAAC;QACvD,WAAW,GAAG,IAAI,CAAC;IACvB,CAAC;IACD,MAAM,EAAE,cAAc,EAAE,GAAG,MAAM,QAAQ,CAAC,MAAM,CAAC;QAC7C,OAAO,EAAE,0BAA0B;QACnC,IAAI,EAAE,gBAAgB;QACtB,IAAI,EAAE,MAAM;QACZ,OAAO,EAAE,CAAC;gBACN,IAAI,EAAE,gBAAgB;gBACtB,KAAK,EAAE,YAAY;aACtB;YACD;gBACI,IAAI,EAAE,UAAU;gBAChB,KAAK,EAAE,OAAO;aACjB;YACD;gBACI,IAAI,EAAE,MAAM;gBACZ,KAAK,EAAE,CAAC;aACX,CAAC;KACL,CAAC,CAAC;IAEH,IAAI,CAAC,cAAc,EAAE,CAAC;QAClB,OAAO,CAAC,GAAG,CAAC,oCAAoC,CAAC,CAAC;QAClD,OAAO,CAAC,IAAI,EAAE,CAAC,CAAG,+BAA+B;IACrD,CAAC;IAED,MAAM,cAAc,EAAE,CAAC;IAEvB,YAAY,EAAE,CAAC;AAEnB,CAAC","sourcesContent":["import inquirer from 'inquirer';\r\nimport 'console.table';\r\n\r\nimport { getAllShops, getAllUsers, createShop } from './query.js';\r\n\r\nlet showWelcome = false;\r\n\r\n\r\n\r\n//async for prompt\r\nexport async function addShop() {\r\n    // const rows = [\r\n    //     {\r\n    //         id: 1,\r\n    //         user_name: 'Nina D'\r\n    //     },\r\n    //     {\r\n    //         id: 2,\r\n    //         user_name: 'Kara D'\r\n    //     }\r\n    // ]\r\n    const usersArray = await getAllUsers();\r\n    const {user_id, name, address} = await inquirer.prompt([\r\n        {\r\n            message: 'Please select the owner of the shop:',\r\n            name: 'user_id',\r\n            type: 'list',\r\n            choices: usersArray.map((userObj) => {\r\n                return {\r\n                    name: userObj.user_name,\r\n                    value: userObj.id\r\n                }\r\n            })\r\n        },\r\n        {\r\n            message: 'Enter the shop name:',\r\n            name: 'name',\r\n            type: 'input'\r\n        },\r\n        {\r\n            message: 'Enter the shop address:',\r\n            name: 'address',\r\n            type: 'input'\r\n        }\r\n    ])\r\n\r\n    await createShop(user_id, name, address);\r\n    console.log('\\nShop created successfully\\n');\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport async function showAllShops() {\r\n    const shopRowsArray = await getAllShops();\r\n    console.table(shopRowsArray);\r\n}\r\n\r\n\r\n\r\n\r\nexport async function showMainMenu() {\r\n    if (!showWelcome) {\r\n        console.log('\\n----- Welcome To The Shop App -----\\n');\r\n        showWelcome = true;\r\n    }\r\n    const { optionFunction } = await inquirer.prompt({\r\n        message: 'Please select an option:',\r\n        name: 'optionFunction',\r\n        type: 'list',\r\n        choices: [{\r\n            name: 'Show All Shops',\r\n            value: showAllShops\r\n        },\r\n        {\r\n            name: 'Add Shop',\r\n            value: addShop\r\n        },\r\n        {\r\n            name: 'Quit',\r\n            value: 0\r\n        }]\r\n    });\r\n\r\n    if (!optionFunction) {\r\n        console.log('\\nThanks for using the shop app!\\n');\r\n        process.exit();   //will [CTRL + C] the terminal \r\n    }\r\n\r\n    await optionFunction();\r\n\r\n    showMainMenu();\r\n\r\n}\r\n\r\n\r\n"]}